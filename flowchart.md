# مخطط تدفق البرنامج

```mermaid
graph TD
    A[بداية التطبيق] --> B[تحميل البيانات]
    B --> C[تهيئة واجهة المستخدم]
    
    subgraph "إدارة المهام"
        D[عرض المهام] --> E{تصفية المهام}
        E -->|نعم| F[عرض المهام المصفاة]
        E -->|لا| G[عرض كل المهام]
        F --> H[تحديث عداد المهام]
        G --> H
    end
    
    subgraph "نسخ المهام"
        I[زر نسخ المهام] --> J[فتح نافذة النسخ]
        J --> K{اختيار المشروع}
        K -->|إضافة مشروع جديد| L[إنشاء مشروع]
        L --> K
        K -->|اختيار مشروع موجود| M[نسخ المهام]
        M --> N[تحديث قائمة المهام]
    end
    
    subgraph "إدارة الأقسام"
        O[عرض الأقسام] --> P[ترتيب الأقسام]
        P --> Q[حفظ ترتيب الأقسام]
    end
    
    subgraph "معالجة الأخطاء"
        R[التحقق من المدخلات] --> S{هل هناك أخطاء؟}
        S -->|نعم| T[عرض رسالة خطأ]
        S -->|لا| U[متابعة العملية]
    end
    
    C --> D
    H --> I
    N --> D
    Q --> D
    
    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#bbf,stroke:#333,stroke-width:2px
    style D fill:#dfd,stroke:#333,stroke-width:2px
    style E fill:#ffd,stroke:#333,stroke-width:2px
    style I fill:#dfd,stroke:#333,stroke-width:2px
    style M fill:#dfd,stroke:#333,stroke-width:2px
    style R fill:#fdd,stroke:#333,stroke-width:2px
```

## شرح المخطط

### المكونات الرئيسية
1. **بداية التطبيق**: نقطة بداية تشغيل التطبيق
2. **تحميل البيانات**: تحميل المهام والأقسام والمشاريع
3. **تهيئة واجهة المستخدم**: إعداد العناصر التفاعلية والأحداث

### وظائف إدارة المهام
- **عرض المهام**: `renderTaskTable()`
- **تصفية المهام**: `filterTasks()`
- **تحديث عداد المهام**: `updateTaskCounter()`

### وظائف نسخ المهام
- **فتح نافذة النسخ**: `openBulkCopyModal()`
- **إنشاء مشروع**: `quickAddProject()`
- **نسخ المهام**: `bulkCopyTasks()`

### وظائف إدارة الأقسام
- **ترتيب الأقسام**: `initSortable()`
- **حفظ الترتيب**: `saveSectionOrder()`

### معالجة الأخطاء
- **التحقق من المدخلات**: مختلف وظائف التحقق
- **عرض رسائل الخطأ**: `showError()`

## العلاقات بين الوظائف

1. **تسلسل العرض**:
   - تحميل البيانات → تهيئة الواجهة → عرض المهام
   - عرض المهام → تحديث العداد → إتاحة النسخ

2. **تسلسل النسخ**:
   - فتح النافذة → اختيار المشروع → نسخ المهام → تحديث العرض

3. **تسلسل إدارة الأقسام**:
   - عرض الأقسام → ترتيب → حفظ → تحديث العرض

4. **معالجة الأخطاء**:
   - التحقق → عرض الخطأ أو متابعة العملية 